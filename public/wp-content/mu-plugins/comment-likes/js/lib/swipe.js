function Swipe(n,e){"use strict";var t=function(){};var i=function(n){setTimeout(n||t,0)};var s={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var t in e)if(n.style[e[t]]!==undefined)return true;return false}(document.createElement("swipe"))};if(!n)return;var a=n.children[0];var r,o,u,l;e=e||{};var f=parseInt(e.startSlide,10)||0;var c=e.speed||300;e.continuous=e.continuous!==undefined?e.continuous:true;function d(){r=a.children;l=r.length;if(r.length<2)e.continuous=false;if(s.transitions&&e.continuous&&r.length<3){a.appendChild(r[0].cloneNode(true));a.appendChild(a.children[1].cloneNode(true));r=a.children}o=new Array(r.length);u=n.getBoundingClientRect().width||n.offsetWidth;a.style.width=r.length*u+"px";var t=r.length;while(t--){var i=r[t];i.style.width=u+"px";i.setAttribute("data-index",t);if(s.transitions){i.style.left=t*-u+"px";p(t,f>t?-u:f<t?u:0,0)}}if(e.continuous&&s.transitions){p(w(f-1),-u,0);p(w(f+1),u,0)}if(!s.transitions)a.style.left=f*-u+"px";n.style.visibility="visible"}function v(){if(e.continuous)E(f-1);else if(f)E(f-1)}function h(){if(e.continuous)E(f+1);else if(f<r.length-1)E(f+1)}function w(n){return(r.length+n%r.length)%r.length}function E(n,t){if(f==n)return;if(s.transitions){var a=Math.abs(f-n)/(f-n);if(e.continuous){var l=a;a=-o[w(n)]/u;if(a!==l)n=-a*r.length+n}var d=Math.abs(f-n)-1;while(d--)p(w((n>f?n:f)-d-1),u*a,0);n=w(n);p(f,u*a,t||c);p(n,0,t||c);if(e.continuous)p(w(n-a),-(u*a),0)}else{n=w(n);x(f*-u,n*-u,t||c)}f=n;i(e.callback&&e.callback(f,r[f]))}function p(n,e,t){m(n,e,t);o[n]=e}function m(n,e,t){var i=r[n];var s=i&&i.style;if(!s)return;s.webkitTransitionDuration=s.MozTransitionDuration=s.msTransitionDuration=s.OTransitionDuration=s.transitionDuration=t+"ms";s.webkitTransform="translate("+e+"px,0)"+"translateZ(0)";s.msTransform=s.MozTransform=s.OTransform="translateX("+e+"px)"}function x(n,t,i){if(!i){a.style.left=t+"px";return}var s=+new Date;var o=setInterval(function(){var u=+new Date-s;if(u>i){a.style.left=t+"px";if(b)T();e.transitionEnd&&e.transitionEnd.call(event,f,r[f]);clearInterval(o);return}a.style.left=(t-n)*(Math.floor(u/i*100)/100)+n+"px"},4)}var b=e.auto||0;var g;function T(){g=setTimeout(h,b)}function y(){b=0;clearTimeout(g)}var L={};var k={};var D;var M={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":i(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(n));break;case"resize":i(d.call());break}if(e.stopPropagation)n.stopPropagation()},start:function(n){var e=n.touches[0];L={x:e.pageX,y:e.pageY,time:+new Date};D=undefined;k={};a.addEventListener("touchmove",this,false);a.addEventListener("touchend",this,false)},move:function(n){if(n.touches.length>1||n.scale&&n.scale!==1)return;if(e.disableScroll)n.preventDefault();var t=n.touches[0];k={x:t.pageX-L.x,y:t.pageY-L.y};if(typeof D=="undefined"){D=!!(D||Math.abs(k.x)<Math.abs(k.y))}if(!D){n.preventDefault();y();if(e.continuous){m(w(f-1),k.x+o[w(f-1)],0);m(f,k.x+o[f],0);m(w(f+1),k.x+o[w(f+1)],0)}else{k.x=k.x/(!f&&k.x>0||f==r.length-1&&k.x<0?Math.abs(k.x)/u+1:1);m(f-1,k.x+o[f-1],0);m(f,k.x+o[f],0);m(f+1,k.x+o[f+1],0)}}},end:function(n){var t=+new Date-L.time;var i=Number(t)<250&&Math.abs(k.x)>20||Math.abs(k.x)>u/2;var s=!f&&k.x>0||f==r.length-1&&k.x<0;if(e.continuous)s=false;var l=k.x<0;if(!D){if(i&&!s){if(l){if(e.continuous){p(w(f-1),-u,0);p(w(f+2),u,0)}else{p(f-1,-u,0)}p(f,o[f]-u,c);p(w(f+1),o[w(f+1)]-u,c);f=w(f+1)}else{if(e.continuous){p(w(f+1),u,0);p(w(f-2),-u,0)}else{p(f+1,u,0)}p(f,o[f]+u,c);p(w(f-1),o[w(f-1)]+u,c);f=w(f-1)}e.callback&&e.callback(f,r[f])}else{if(e.continuous){p(w(f-1),-u,c);p(f,0,c);p(w(f+1),u,c)}else{p(f-1,-u,c);p(f,0,c);p(f+1,u,c)}}}a.removeEventListener("touchmove",M,false);a.removeEventListener("touchend",M,false)},transitionEnd:function(n){if(parseInt(n.target.getAttribute("data-index"),10)==f){if(b)T();e.transitionEnd&&e.transitionEnd.call(n,f,r[f])}}};d();if(b)T();if(s.addEventListener){if(s.touch)a.addEventListener("touchstart",M,false);if(s.transitions){a.addEventListener("webkitTransitionEnd",M,false);a.addEventListener("msTransitionEnd",M,false);a.addEventListener("oTransitionEnd",M,false);a.addEventListener("otransitionend",M,false);a.addEventListener("transitionend",M,false)}window.addEventListener("resize",M,false)}else{window.onresize=function(){d()}}return{setup:function(){d()},slide:function(n,e){y();E(n,e)},prev:function(){y();v()},next:function(){y();h()},getPos:function(){return f},getNumSlides:function(){return l},kill:function(){y();a.style.width="auto";a.style.left=0;var n=r.length;while(n--){var e=r[n];e.style.width="100%";e.style.left=0;if(s.transitions)m(n,0,0)}if(s.addEventListener){a.removeEventListener("touchstart",M,false);a.removeEventListener("webkitTransitionEnd",M,false);a.removeEventListener("msTransitionEnd",M,false);a.removeEventListener("oTransitionEnd",M,false);a.removeEventListener("otransitionend",M,false);a.removeEventListener("transitionend",M,false);window.removeEventListener("resize",M,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(n){n.fn.Swipe=function(e){return this.each(function(){n(this).data("Swipe",new Swipe(n(this)[0],e))})}})(window.jQuery||window.Zepto)}